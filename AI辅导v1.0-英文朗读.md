### 背景
1. 各地提升考试听力口语占比，目前途途练习产品无法支持用户口语练习的需求
2. 需要优化用户学习体验
3. 使用H5方案，支持素养/途途APP/线下小程序
4. 支持**短文朗读**场景，其他场景后续拓展
### 目标
#### <font color=brown>针对初中用户</font>
- 趣味性、互动性，先支持【短文朗读】题型
- 系统自动批改反馈
- 先支持APP内嵌H5访问使用，再考虑线下小程序（小程序只能录制一分钟）
#### <font color=brown>针对教研和二讲老师</font>
- 教研老师基于班级id布置练习
- 二讲通过链接下发练习
- 教研&二讲查询作答明细
- 二讲查询自己辅导班提交率
### 需求分析
#### <font color=henna>对于C端用户</font>
 序号 | 场景 | 目标 |
:---:|:----:|:--------------|
 1 | 前置宣导 | 1. 找到练习入口<br>2.完成初步了解和体验
 2 | 练习承接 | 按照系统引导一步步顺利完成练习
 3 | 练习反馈 | 1. 练习的过程中/提交练习后，确认自己的过程/结果满足要求<br>&emsp;a.如果不满足，答案解析及是否需要重新提交

#### <font color=henna>对于B端用户</font>
| 用户 | 需求 |
|:---:|:---|
| 教研老师 |1.布置练习<br>2.将练习与班级id绑定<br>3.获得用户练习明细数据|
| 二讲老师 |1.引导催促学员练习<br>2.查看提交率<br>3.查看提交明细|

**名词解释**：  
一次辅导计划包含多个辅导活动，一次辅导活动包含多个辅导服务  
类比：一个30天的每日一练计划，辅导活动为某一天的每日一练，一次每日一练包含多个练习题（辅导服务）

### 功能需求
#### <font color=purple>C端</font>
|   模块   | 功能 | 备注 |
| :------: | :--- | :--- |
|   登录   | 用户登录 |      |
| 前置引导 | 收益预期及服务目录展示	|      |
| 辅导服务内容 | 参与辅导并获得反馈 |每个辅导服务包含如下阶段和策略：<br>三个阶段<br>&emsp;- 审题阶段<br>&emsp;- 作答阶段<br>&emsp;- 反馈阶段<br>每个阶段都有最多四类策略<br>&emsp;- 初始引导策略<br>&emsp;- 操作超时引导策略<br>&emsp;- 回答正确/错误反馈策略<br>多个辅导服务通过“组装策略”形成完整辅导活动|
| 结束引导 | 总结反馈与激励 |      |


### <font color=darkorange>需要注意：</font>

- [x] 点击单词打开弹窗查看释义，弹窗不影响题目状态：播放范读、翻译展示/隐藏状态，关闭弹窗后仍然是原状态？ <font color=green>yes</font>
- [x] 释义弹窗：点击关闭按钮可关闭，点空白处不关闭，点击系统返回键呢？<font color=green>直接退出h5</font>
- [ ] 检查中：播放用户录音，中断其他声音播放，包括其他软件声音吗？ <font color=green>不重要</font>
- [x] 通过研发手段修改策略，是在代码里写死吗？写死就不用测试 ： <font color=green>是在配置中心修改</font>
- [x] Tips数量可通过策略配置，推荐所有用户得分最低的3个单词，分最低的排前面，分数相同按短文中的顺序排序，如何测试？所有用户得分数据在哪？ ：<font color=green>最开始按照长度来，后面有数据了</font>
- [x] 录音最长多久？:<font color=green>最长60s，如果卡住/读错5s结束录制</font>
- [x] 完成辅导活动后的反馈页面后续再进来看不到 <font color=green>yes</font>
- [x] 反应时间测试
- [x] 开始练习但是不录制直接退出,后面再成功算第二次吗？ <font color=green>不能</font>
- [x] 班级品类：初中英语/演说素养
- [x] b端-活动内名称不能重复
- [x] h5页面按系统返回键，回到APP，回到哪个页面? 
- [ ] 辅导活动更新为最多8个字，20240904
- [ ] b端新增埋点
- [ ] 新建辅导计划品类显示演说素养，not演说
- [ ] 控制文案跳出来的开关：智能辅导测试环境配置  
    `参数:"jump": true,  
          "jumpTime": 2000,`
- [ ] 获取服务反馈内容“总得分”保留整数，向上取整，B端导出活动详情时”总得分“也一样

策略 包含 输入 匹配 输出  
有的策略在前端直接处理，有的策略需要调取后端接口

socket连接：  
socket是用户进程（应用层）与网络协议（运输层）tcp/ip、udp之间的桥梁，socket是一个接口，书写tcp/ip协议内容，而用户只需要理解接口就可以了  
>显示socket内容：`netstat -an`  
-a 显示所有连接中的socket  
-n 显示ip地址，而不是域名  

socket在应用程序内随应用程序一起创建，  
**应用程序下面**是操作系统，里面有<font color=red>协议栈</font>，是一系列协议的堆叠  
**操作系统下面**是网卡驱动程序，驱动程序负责驱动网卡硬件完成收发工作  
在操作系统内部用于存放控制信息的内存空间就是socket的实体  
socket创建：应用程序启动时会申请创建Socket，协议栈会根据申请给它分配所需的内存空间用于存放控制信息，  
socket连接：三次握手  
客户端：SYN  
服务端：SYN+ACK  
客户端：ACK  
socket收发：拥塞控制
socket断开连接：四次挥手  
客户端：FIN  
服务端：ACK  
服务端：FIN  
客户端：ACK  
socket删除：上述通信过程完成，socket就可以被删除了，不过为了防止误操作（例如客户端返回的ACK丢失），通常会等待一段时间删除  

http请求：get和post  
请求包含：请求行，请求头，请求体  
get请求参数直接写在请求行（url）上，用?连在链接后面，以&相连  
post请求需要把**参数**和**参数数据**写在请求体（body）里，安全，get没有请求体  
请求头里面包含一些cookie、token等信息，还有一些自定义的通用的数据
